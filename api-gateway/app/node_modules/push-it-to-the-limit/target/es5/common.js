"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,s=0,n=r.length;s<n;s++)!o&&s in r||(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return e.concat(o||Array.prototype.slice.call(r))};function complete(e,r,t,o){e(r.call.apply(r,__spreadArray([o],t,!1)))}function fail(e,r){void 0===r&&(r=exports.REJECTED),e(new Error(r))}function failOnCancel(e){fail(e,exports.REJECTED_ON_CANCEL)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeDelay=exports.dropTimeout=exports.assertFn=exports.assert=exports.adapter=exports.DEFAULT_DELAY=exports.failOnCancel=exports.REJECTED_ON_CANCEL=exports.fail=exports.REJECTED=exports.complete=void 0,exports.complete=complete,exports.REJECTED="Rejected",exports.fail=fail,exports.REJECTED_ON_CANCEL="Rejected on cancel",exports.failOnCancel=failOnCancel,exports.DEFAULT_DELAY=0;var normalizeOpts=function(e){return void 0===e&&(e={}),__assign({delay:exports.DEFAULT_DELAY},e)};function adapter(e){return function(r,t,o){assertFn(r);var s=normalizeOpts(o);return"number"==typeof t?s=__assign(__assign({},s),{delay:t}):Array.isArray(t)?s=__assign(__assign({},s),{limit:t}):"object"==typeof t&&(s="number"==typeof t.period&&"number"==typeof t.count?__assign(__assign({},s),{delay:t}):__assign(__assign({},s),t)),e(r,s)}}function assert(e,r){if(void 0===r&&(r="Assertion error"),!e)throw new Error(r)}function assertFn(e){assert("function"==typeof e,"Target must be a function")}function dropTimeout(e){e&&clearTimeout(e)}function normalizeDelay(e){return void 0===e?[]:(Array.isArray(e)?e:[e]).map((function(e){return"number"==typeof e?{period:e,count:1}:e}))}exports.adapter=adapter,exports.assert=assert,exports.assertFn=assertFn,exports.dropTimeout=dropTimeout,exports.normalizeDelay=normalizeDelay;