"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=void 0;var repeater_1=require("@antongolub/repeater"),common_1=require("../common");exports.repeat=(0,common_1.adapter)((function(e,t){var r,o=__assign(__assign({},t),{target:e,delay:"number"==typeof t.delay?t.delay:t.delay.period,limit:Array.isArray(t.limit)?t.limit[0].period:null===(r=t.limit)||void 0===r?void 0:r.period}),a=((null===repeater_1.default||void 0===repeater_1.default?void 0:repeater_1.default.default)||repeater_1.default)(o);return a.cancel=function(){(0,common_1.dropTimeout)(a.timeout)},a.flush=function(){e.call(a.context,a.args),(0,common_1.dropTimeout)(a.timeout)},a}));